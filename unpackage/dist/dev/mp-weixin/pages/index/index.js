"use strict";const e=require("../../common/vendor.js"),l=require("../../apis/index.js");require("../../utils/request.js");Math||_();const _=()=>"../../components/songList.js",x={__name:"index",setup(A){const m=e.ref([]),f=()=>{l.apisIndex.apiGetBanner().then(n=>{m.value=n.banners})},d=e.ref([{name:"\u6BCF\u65E5\u63A8\u8350"},{name:"\u6B4C\u5355"},{name:"\u6392\u884C\u699C"},{name:"\u7535\u53F0"},{name:"\u76F4\u64AD"}]),u=e.ref([]),g=()=>{l.apisIndex.apiGetRecommendSongs().then(n=>{u.value=n.result;const o=t=>{let s=t;return t>1e4&&(s=parseInt(t/1e4)+"\u4E07"),s};u.value.forEach(t=>{t.playCount=o(t.playCount)})})};let a=e.ref(1),r=e.reactive({latestAlbum:[],latestTempAlbum:[]});const p=n=>{a.value=n;let o={s:n==1?0:3,e:n==1?3:6};r.latestAlbum=r.latestTempAlbum.slice(o.s,o.e)},b=()=>{l.apisIndex.apiGetTopAlbum().then(n=>{r.latestTempAlbum=n.albums,r.latestAlbum=n.albums.slice(0,3)})},i=e.ref([]),v=()=>{const n={id:32154};l.apisIndex.apiGetRelatedVideo(n).then(o=>{i.value=o.data,console.log(i)})};return e.onPullDownRefresh(()=>{console.log("\u4E0B\u62C9\u5237\u65B0"),setTimeout(()=>{e.index.stopPullDownRefresh()},1e3)}),e.onMounted(()=>{f(),g(),b(),v()}),(n,o)=>e.e({a:e.f(m.value,(t,s,c)=>({a:t.imageUrl,b:e.t(t.typeTitle),c:s})),b:e.f(d.value,(t,s,c)=>({a:"../../static/image/index/t_"+(s+1)+".png",b:e.t(t.name),c:s})),c:e.p({title:"\u63A8\u8350\u6B4C\u5355",link:"",list:u.value}),d:e.unref(a)==1?1:"",e:e.o(t=>p(1)),f:e.unref(a)==2?1:"",g:e.o(t=>p(2)),h:e.unref(a)==1},e.unref(a)==1?{}:{},{i:e.unref(a)==2},e.unref(a)==2?{}:{},{j:e.f(e.unref(r).latestAlbum,(t,s,c)=>({a:t.picUrl,b:e.t(t.name),c:e.t(t.artist.name),d:s})),k:e.f(i.value,(t,s,c)=>({a:t.coverUrl,b:e.t(t.title),c:s}))})}},h=e._export_sfc(x,[["__file","D:/WeChatProj/uni_app/NetEaseMusic/pages/index/index.vue"]]);wx.createPage(h);
