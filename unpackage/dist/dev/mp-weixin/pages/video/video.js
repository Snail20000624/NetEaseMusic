"use strict";const e=require("../../common/vendor.js"),j=require("../../apis/video.js"),w=require("../../apis/index.js");require("../../utils/request.js");Math||q();const q=()=>"../../uni_modules/mescroll-uni/components/mescroll-uni/mescroll-uni.js",x={__name:"video",setup(N){const r=e.ref([]),u=e.ref(),v=()=>{j.apisVideo.apiGetNavList().then(t=>{r.value=t.data.slice(0,10),l(r.value[0].id,0)})},l=(t,n)=>{u.value=t,d.value=144*n+(n==0?33:0),p(1,5,a=>{s.value=a.data})};let f=e.ref(60),d=e.ref(33);const _={auto:!1},m={auto:!1,page:{num:0,size:10}};let s=e.ref([]);const p=(t,n,a,o)=>{let c={id:u.value,pageNum:t,pageSize:n};w.apisIndex.apiGetRelatedVideo(c).then(i=>{a&&a(i)},i=>{o&&o(i)})},g=t=>{t.resetUpScroll()},h=t=>{p(t.num,t.size,n=>{t.num==1&&(s=e.ref([])),console.log(n.data),s.value=s.value.concat(Array.from(n.data)),console.log(s.value),t.endSuccess()},()=>{t.endErr()})};return e.onMounted(()=>{v()}),(t,n)=>({a:e.f(r.value,(a,o,c)=>({a:e.t(a.name),b:o,c:u.value==a.id?1:"",d:e.o(i=>l(a.id,o),o)})),b:e.s("width:"+e.unref(f)+"rpx; transform:translateX("+e.unref(d)+"rpx)"),c:e.f(e.unref(s),(a,o,c)=>({a:a.coverUrl,b:e.t(a.title),c:o})),d:e.o(g),e:e.o(h),f:e.p({down:_,up:m})})}},M=e._export_sfc(x,[["__file","D:/WeChatProj/uni_app/NetEaseMusic/pages/video/video.vue"]]);wx.createPage(M);
